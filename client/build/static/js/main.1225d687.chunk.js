(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(t,e,n){},16:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),r=n(8),o=n.n(r),s=(n(15),n(2)),c=n(3),l=n(5),h=n(4),u=n(6),m=n(1),f=function(t){function e(t){var n;Object(s.a)(this,e),n=Object(l.a)(this,Object(h.a)(e).call(this,t));var a=t.elementWidth,i=t.elementHeight;return n.margin={top:30,right:20,bottom:30,left:50},n.x=m.g().range([0,a-n.margin.left-n.margin.right]),n.y=m.f().range([i-n.margin.top-n.margin.bottom,0]),n.elementWidth=a,n.elementHeight=i,n.state={data:null},n}return Object(u.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){var t=this;setInterval(function(){t.getData()},3e3)}},{key:"getData",value:function(){var t=this;fetch("/getData").then(function(t){return t.json()}).then(function(e){console.log(e);var n=e.map(function(t){return{timeStamp:m.i("%Y-%m-%dT%H:%M:%S.%LZ")(t.timeStamp),price:t.price}});console.log(n),t.x.domain(m.c(n,function(t){return t.timeStamp})),t.y.domain([0,m.e(n,function(t){return t.price})]),t.setState({data:n})})}},{key:"drawXAxis",value:function(){m.h(this.refs.x).call(this.xAxis)}},{key:"drawYAxis",value:function(){m.h(this.refs.y).call(this.yAxis)}},{key:"path",value:function(){return i.a.createElement("path",{className:"line",d:this.line(this.state.data)})}},{key:"render",value:function(){return i.a.createElement("svg",{width:this.elementWidth,height:this.elementHeight},i.a.createElement("g",{transform:"translate(".concat(this.margin.left,", ").concat(this.margin.top,")")},this.state.data?this.path():null,i.a.createElement("g",{ref:"x",className:"x axis",transform:"translate(0, ".concat(this.elementHeight-this.margin.top-this.margin.bottom,")")},this.state.data?this.drawXAxis():null),i.a.createElement("g",{ref:"y",className:"y axis"},this.state.data?this.drawYAxis():null)))}},{key:"xAxis",get:function(){return m.a(this.x).ticks(5)}},{key:"yAxis",get:function(){return m.b(this.y).ticks(5)}},{key:"line",get:function(){var t=this;return m.d().x(function(e){return t.x(e.timeStamp)}).y(function(e){return t.y(e.price)})}}]),e}(a.Component),g=function(t){function e(){return Object(s.a)(this,e),Object(l.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(f,{elementWidth:600,elementHeight:270}))}}]),e}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},9:function(t,e,n){t.exports=n(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.1225d687.chunk.js.map